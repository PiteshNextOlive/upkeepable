<div class="login_wrapper">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-xl-5 col-lg-6 col-md-8 col-sm-10">
                <div class="login-heading">
                    <h3>Set up Password</h3>
                    <p>Please create a secure password</p>
                </div>
                <div class="login-form">
                    <form [formGroup]="inputForm" (ngSubmit)="onSubmit()">
                        <input type="hidden" formControlName="userUniqueIdentityString">
                        <div class="form-outline text-danger" *ngIf="isSomethingWentWrong">
                            Something went wrong. Please try again..!
                        </div>
                        <!-- Password input -->
                        <div class="form-outline">
                            <label class="form-label" for="password">Password</label>
                            <div class="fieldOldPass">
                                <input [type]="fieldOldPass ? 'text' : 'password'" id="password" autocomplete="disabled" placeholder="Enter your Password" class="form-control" formControlName="password">
                                <div class="input-group-append">
                                    <span class="input-group-text">
                                  <i
                                    class="fa"
                                    [ngClass]="{
                                      'fa-eye-slash': !fieldOldPass,
                                      'fa-eye': fieldOldPass
                                    }"
                                    (click)="toggleOldPass()"
                                  ></i>
                                </span>
                                </div>
                            </div>
                            <div *ngIf="(formControls?.password?.invalid) && (submitted || formControls?.password?.dirty || formControls?.password?.touched)" class="text-danger">
                                <div *ngIf="formControls?.password?.errors?.required">
                                    New password is required.
                                </div>
                                <div *ngIf="formControls.password.errors?.pattern">
                                    Invalid New Password.
                                </div>
                                <div *ngIf="formControls.password.errors?.minlength">
                                    New password can be min 6 characters long.
                                </div>
                            </div>
                        </div>
                        <!-- Password input -->
                        <div class="form-outline">
                            <label class="form-label" for="repeatPassword">Confirm Password</label>
                            <div class="fieldNewPass">
                                <input [type]="fieldNewPass ? 'text' : 'password'" id="repeatPassword" autocomplete="disabled" placeholder="Enter your Password" class="form-control" formControlName="repeatPassword">
                                <div class="input-group-append">
                                    <span class="input-group-text">
                                    <i
                                    class="fa"
                                    [ngClass]="{
                                      'fa-eye-slash': !fieldNewPass,
                                      'fa-eye': fieldNewPass
                                    }"
                                    (click)="toggleNewPass()"
                                  ></i>
                                </span>
                                </div>
                            </div>
                            <div *ngIf="(submitted || (formControls?.repeatPassword?.dirty || formControls?.repeatPassword?.touched))" class="text-danger">
                                <div *ngIf="formControls?.repeatPassword?.errors?.required">
                                    Confirm Password is required.
                                </div>
                                <div *ngIf="formControls?.repeatPassword?.errors?.pattern">
                                    Invalid Confirm Password.
                                </div>
                            </div>
                            <div *ngIf="!formControls.repeatPassword.errors?.required && !formControls.repeatPassword.errors?.pattern">
                                <div class="text-danger" *ngIf="((!(formControls?.repeatPassword?.errors?.pattern || formControls?.password?.errors?.required)) && (formControls?.password?.value != formControls?.repeatPassword?.value) && (formControls?.password?.dirty || formControls?.password?.touched)) && (formControls?.repeatPassword?.dirty && (formControls?.repeatPassword?.dirty || formControls?.repeatPassword?.touched))">
                                    Confirm Passwords don't match.
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12 d-flex justify-content-center">
                                <!-- Submit button -->
                                <button type="submit" class="btn-primary btn-block mb-4">Set up password</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
