<div id="password" class="tabcontent">
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12">
            <div class="setting-heading-text">
                <h4>Change Password</h4>
                <h6>The password should have atleast 6 characters.</h6>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-8 col-md-12 col-sm-12">
            <div class="change-password-form">
                <form [formGroup]="inputForm" (ngSubmit)="onSubmit()">
                    <!-- Password input -->
                    <input type="hidden" formControlName="userId">
                    <div class="form-outline">
                        <label class="form-label" for="form2Example3">Old Password</label>
                        <div class="fieldOldPass">
                            <input [type]="fieldOldPass ? 'text' : 'password'" id="old-password" autocomplete="disabled" placeholder="Password" class="form-control" formControlName="oldPassword">
                            <div class="input-group-append">
                                <span class="input-group-text">
                              <i
                                class="fa"
                                [ngClass]="{
                                  'fa-eye-slash': !fieldOldPass,
                                  'fa-eye': fieldOldPass
                                }"
                                (click)="toggleOldPass()"
                              ></i>
                            </span>
                            </div>
                        </div>
                        <div *ngIf="!formControls.oldPassword.errors?.required && !formControls.oldPassword.errors?.pattern">
                            <div class="text-warning">{{serverErrorMsgText}}</div>
                        </div>

                        <div *ngIf="(formControls.oldPassword.invalid) && (submitted || formControls.oldPassword.dirty || formControls.oldPassword.touched)" class="text-danger">
                            <div *ngIf="formControls.oldPassword.errors?.required">
                                Old password is required.
                            </div>
                            <div *ngIf="formControls.oldPassword.errors?.pattern">
                                Invalid old password.
                            </div>
                        </div>

                    </div>
                    <!-- Password input -->
                    <div class="form-outline">
                        <label class="form-label" for="password">New Password</label>
                        <div class="fieldNewPass">
                            <input [type]="fieldNewPass ? 'text' : 'password'" id="new-password" autocomplete="disabled" placeholder="Password" class="form-control" formControlName="password">
                            <div class="input-group-append">
                                <span class="input-group-text">
                                <i
                                class="fa"
                                [ngClass]="{
                                  'fa-eye-slash': !fieldNewPass,
                                  'fa-eye': fieldNewPass
                                }"
                                (click)="toggleNewPass()"
                              ></i>
                            </span>
                            </div>
                        </div>
                        <div *ngIf="(formControls.password.invalid) && (submitted || formControls.password.dirty || formControls.password.touched)" class="text-danger">
                            <div *ngIf="formControls.password.errors?.required">
                                New password is required.
                            </div>
                            <!-- <div *ngIf="formControls.password.errors?.pattern || formControls.password.errors?.cannotContainSpace">
                                Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters!.
                            </div> -->
                            <div *ngIf="formControls.password.errors?.pattern">
                                Invalid new password.
                            </div>
                            <div *ngIf="formControls.password.errors?.minlength">
                                New password can be min 6 characters long.
                            </div>
                        </div>

                    </div>

                    <!-- Password input -->
                    <div class="form-outline">
                        <label class="form-label" for="repeatPassword">Confirm New Password</label>
                        <div class="fieldConfirmNewPass">
                            <input [type]="fieldConfirmNewPass ? 'text' : 'password'" id="repeatPassword" autocomplete="disabled" placeholder="Password" class="form-control" formControlName="repeatPassword">
                            <div class="input-group-append">
                                <span class="input-group-text">
                              <i
                                class="fa"
                                [ngClass]="{
                                  'fa-eye-slash': !fieldConfirmNewPass,
                                  'fa-eye': fieldConfirmNewPass
                                }"
                                (click)="toggleConfirmNewPass()"
                              ></i>
                            </span>
                            </div>
                        </div>
                        <div *ngIf="(submitted || (formControls.repeatPassword.dirty || formControls.repeatPassword.touched))" class="text-danger">
                            <div *ngIf="formControls.repeatPassword.errors?.required">
                                Confirm password is required.
                            </div>
                            <div *ngIf="formControls.repeatPassword.errors?.pattern">
                                Invalid confirm password.
                            </div>
                        </div>
                        <div *ngIf="!formControls.repeatPassword.errors?.required && !formControls.repeatPassword.errors?.pattern">
                            <div class="text-danger" *ngIf="((!(formControls.repeatPassword.errors?.pattern || formControls.password.errors?.required)) && (formControls.password.value != formControls.repeatPassword.value) && (formControls.password.dirty || formControls.password.touched)) && (formControls.repeatPassword.dirty && (formControls.repeatPassword.dirty || formControls.repeatPassword.touched))">
                                Confirm passwords don't match.
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-lg-12 d-flex justify-content-center">
                            <!-- Submit button -->
                            <div class="update-password-box">
                                <button type="submit" class="btn btn-primary btn-block">Update Password</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>